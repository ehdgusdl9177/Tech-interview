- Node.js는 비동기 IO를 지원하며, Single-thread 기반으로 동작하는 서버
- Node.js의 비동기처리는 이벤트 방식으로 품. 클라이언트 요청을 비동기로 처리하기 위해 이벤트가 발생하며 서버 내부에 메시지 형태로 전달 → 서버 내부의 Event Loop가 처리 → 이벤트루프가 처리하는 동안 제어권은 다음 요청으로 넘어가고 처리가 완료되면 콜백을 호출하여 처리완료를 알림.

## 동기와 비동기의 차이
### 동기
- 요청을 하면 시간이 얼마가 걸리던지 요청한 자리에서 결과가 주어져야 한다.
- 요청과 결과가 한 자리에서 동시에 일어남
- 설계가 매우 간단하고 직관적
- 결과가 주어질 때까지 아무것도 못하고 대기해야함
- 먼저 시작된 하나의 작업이 끝날 때까지 다른 작업을 시작하지 않고 기다렸다가 다 끝나면 새로운 작업을 하는 방식

### 비동기
- 요청한 그자리에서 결과가 주어지지 않음
- 결과가 주어지는데 시간이 걸리더라도 그 시간 동안 다른 작업을 할 수 있으므로 자원을 효율적으로 사용
- 동기보다 복잡
- 먼저 시작된 작업의 완료 여부와는 상관없이 새로운 작업을 시작하는 방식
- 두 가지 비동기 스타일이 있다
  - callback
  - promise-style
 
  - 동기는 직렬로 비동기는 병렬로 일어난다고 생각

### 비동기 콜백(async callback)
- 콜백은 자바스크립트에서 가장 오래된 비동기 메커니즘으로 다른 함수에 매개변수로 넘겨준 함수를 말한다. 백그라운드 작업이 완료되면 호출되는 함수
- 매개변수로 넘겨받은 함수는 일단 넘겨받고, 때가 되면 나중에 호출한다는 것이 콜백함수의 개념이다.
- 여러 함수들을 선언하고, 어느 한 함수가 실행될때, 상황에 따라 필요한 다른 함수를 실행하고 싶을 때 활용할 수 잇다.
- 콜백의 약점은 가독성이 떨어진다는 것, 콜백 함수 내에서도 또 콜백 함수를 사용할 수도 있는데 그럴 경우 콜백함수가 꼬리에 꼬리를 물어 콜백 지옥이 펼쳐진다.

### 프로미스(Promise)
- 자바스크립트 비동기 처리에 사용되는 객체이다.
- 프로미스 기반 비동기 함수를 호출하면, 해당 비동기 함수는 프로미스 객체를 반환한다.
- 프로미스 객체는 약속을 하는 객체로, 자바스크립트에게 "나 이거 아직 다 못끝냈는데, 무언갈 반환하긴 할거야. 그러니까 기다리지 고 다른 작업 하고 있으면 내가 나중에 결과 반환해줄게" 라고 말하는 것과 같다.
- 4가지 상태를 가지고 있다.
  - pending: 비동기 작업이 끝나지 않은 상태. 아직 작업의 성공/실패 여부를 모른다.
  - resolved: 비동기 작업이 끝난 상태. fulfilled 와 rejected로 나뉜다.
    - fulfilled: 비동기 작업이 성공적으로 완료된 상태로, 비동기 작업의 결과물이 객체에 들어있다.
    - rejected: 비동기 작업이 실패한 상태로, 비동기 작업이 실패한 원인을 담은 에러메시지가 들어있다.

